<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liftlio - O Poder do Tr√°fego Org√¢nico Composto</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000;
            overflow: hidden;
            position: relative;
            color: white;
        }
        
        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        /* Header Principal */
        .main-header {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 1000;
            opacity: 0;
        }
        
        .main-title {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(90deg, #FF0000, #FFD700, #4CAF50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 60px rgba(255, 0, 0, 0.5);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.3em;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }
        
        /* Painel de M√©tricas em Tempo Real */
        .metrics-panel {
            position: fixed;
            top: 30px;
            left: 30px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(255, 0, 0, 0.3);
            z-index: 100;
            opacity: 0;
            min-width: 280px;
            box-shadow: 0 0 40px rgba(255, 0, 0, 0.2);
        }
        
        .metrics-title {
            font-size: 1.2em;
            color: #FFD700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .metric-item {
            margin: 15px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 3px solid;
            transition: all 0.3s;
        }
        
        .metric-item:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.1);
        }
        
        .metric-item:nth-child(2) { border-left-color: #FF0000; }
        .metric-item:nth-child(3) { border-left-color: #FFD700; }
        .metric-item:nth-child(4) { border-left-color: #4CAF50; }
        .metric-item:nth-child(5) { border-left-color: #9C27B0; }
        .metric-item:nth-child(6) { border-left-color: #00BCD4; }
        
        .metric-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .metric-value {
            font-size: 1.3em;
            font-weight: bold;
            text-shadow: 0 0 10px currentColor;
        }
        
        .metric-value.red { color: #FF0000; }
        .metric-value.gold { color: #FFD700; }
        .metric-value.green { color: #4CAF50; }
        .metric-value.purple { color: #9C27B0; }
        .metric-value.cyan { color: #00BCD4; }
        
        /* Indicador de Fase */
        .phase-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(30px);
            border-radius: 30px;
            padding: 40px 60px;
            border: 3px solid;
            border-image: linear-gradient(45deg, #FF0000, #FFD700, #4CAF50) 1;
            z-index: 200;
            opacity: 0;
            text-align: center;
            min-width: 500px;
            box-shadow: 0 0 100px rgba(255, 0, 0, 0.3);
        }
        
        .phase-number {
            font-size: 4em;
            font-weight: bold;
            background: linear-gradient(90deg, #FF0000, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        .phase-title {
            font-size: 2em;
            color: #FFD700;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        
        .phase-description {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
        }
        
        /* Timeline de Progresso */
        .progress-timeline {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 700px;
            z-index: 100;
            opacity: 0;
        }
        
        .timeline-track {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .timeline-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #FF0000, #FFD700, #4CAF50);
            border-radius: 20px;
            box-shadow: 0 0 30px currentColor;
            transition: width 1s ease;
        }
        
        .timeline-phases {
            position: absolute;
            top: -40px;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        
        .phase-marker {
            width: 30px;
            height: 30px;
            background: rgba(0, 0, 0, 0.9);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .phase-marker.active {
            background: linear-gradient(45deg, #FF0000, #FFD700);
            border-color: #FFD700;
            transform: scale(1.3);
            box-shadow: 0 0 30px #FFD700;
        }
        
        .phase-marker span {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            white-space: nowrap;
            opacity: 0.6;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .phase-marker.active span {
            opacity: 1;
            color: #FFD700;
            font-weight: bold;
        }
        
        /* Legenda de Tipos de Engajamento */
        .engagement-legend {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 0, 0, 0.3);
            z-index: 100;
            opacity: 0;
            min-width: 250px;
        }
        
        .legend-title {
            color: #FFD700;
            font-size: 1.1em;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 12px 0;
            font-size: 0.9em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 12px;
            box-shadow: 0 0 10px currentColor;
        }
        
        /* ROI Counter Gigante */
        .roi-display {
            position: fixed;
            top: 50%;
            right: 50px;
            transform: translateY(-50%);
            text-align: center;
            opacity: 0;
            z-index: 100;
        }
        
        .roi-label {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .roi-value {
            font-size: 5em;
            font-weight: bold;
            background: linear-gradient(90deg, #4CAF50, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(76, 175, 80, 0.8);
            animation: pulse 2s infinite;
        }
        
        /* Efeito de Explos√£o */
        .explosion-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent, rgba(255, 215, 0, 0.3));
            opacity: 0;
            pointer-events: none;
            z-index: 500;
        }
        
        .viral-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 8em;
            font-weight: bold;
            background: linear-gradient(45deg, #FF0000, #FFD700, #4CAF50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 100px rgba(255, 215, 0, 1);
            z-index: 1000;
            opacity: 0;
        }
        
        /* Bot√£o CTA Final */
        .cta-button {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 20px 50px;
            background: linear-gradient(45deg, #FF0000, #FFD700);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            opacity: 0;
            z-index: 100;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 10px 40px rgba(255, 0, 0, 0.5);
            transition: all 0.3s;
        }
        
        .cta-button:hover {
            transform: translateX(-50%) translateY(-5px) scale(1.1);
            box-shadow: 0 15px 60px rgba(255, 0, 0, 0.7);
        }
        
        /* Anima√ß√µes */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Contador de Part√≠culas */
        .particle-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            z-index: 100;
            opacity: 0;
        }
        
        .particle-title {
            color: #FFD700;
            font-size: 0.9em;
            text-transform: uppercase;
            margin-bottom: 10px;
        }
        
        .particle-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .particle-stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .particle-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .particle-count {
            font-size: 1.1em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <!-- Header Principal -->
    <div class="main-header" id="mainHeader">
        <h1 class="main-title">Como o Liftlio Transforma Men√ß√µes em Imp√©rio Digital</h1>
        <p class="subtitle">O Poder do Tr√°fego Org√¢nico Composto no YouTube</p>
    </div>
    
    <!-- Painel de M√©tricas -->
    <div class="metrics-panel" id="metricsPanel">
        <div class="metrics-title">üìä M√©tricas em Tempo Real</div>
        <div class="metric-item">
            <span class="metric-label">üé¨ V√≠deos Mencionando</span>
            <span class="metric-value red" id="videoCount">0</span>
        </div>
        <div class="metric-item">
            <span class="metric-label">üí¨ Coment√°rios Ativos</span>
            <span class="metric-value gold" id="commentCount">0</span>
        </div>
        <div class="metric-item">
            <span class="metric-label">üîÑ Taxa de Viraliza√ß√£o</span>
            <span class="metric-value green" id="viralRate">0%</span>
        </div>
        <div class="metric-item">
            <span class="metric-label">üéØ Leads Qualificados</span>
            <span class="metric-value purple" id="qualifiedLeads">0</span>
        </div>
        <div class="metric-item">
            <span class="metric-label">üëÅÔ∏è Alcance Total</span>
            <span class="metric-value cyan" id="totalReach">0</span>
        </div>
    </div>
    
    <!-- Indicador de Fase -->
    <div class="phase-indicator" id="phaseIndicator">
        <div class="phase-number" id="phaseNumber">FASE 1</div>
        <div class="phase-title" id="phaseTitle">SEMEANDO PRESEN√áA</div>
        <div class="phase-description" id="phaseDescription">
            Primeiras men√ß√µes plantadas estrategicamente nos v√≠deos certos
        </div>
    </div>
    
    <!-- Timeline de Progresso -->
    <div class="progress-timeline" id="progressTimeline">
        <div class="timeline-phases">
            <div class="phase-marker" data-phase="1">
                <span>Semear</span>
            </div>
            <div class="phase-marker" data-phase="2">
                <span>Autoridade</span>
            </div>
            <div class="phase-marker" data-phase="3">
                <span>Influ√™ncia</span>
            </div>
            <div class="phase-marker" data-phase="4">
                <span>Algoritmo</span>
            </div>
            <div class="phase-marker" data-phase="5">
                <span>VIRAL!</span>
            </div>
        </div>
        <div class="timeline-track">
            <div class="timeline-fill" id="timelineFill"></div>
        </div>
    </div>
    
    <!-- Display de ROI -->
    <div class="roi-display" id="roiDisplay">
        <div class="roi-label">ROI Atual</div>
        <div class="roi-value" id="roiValue">0x</div>
    </div>
    
    <!-- Legenda de Engajamento -->
    <div class="engagement-legend" id="engagementLegend">
        <div class="legend-title">Tipos de Engajamento</div>
        <div class="legend-item">
            <div class="legend-color" style="background: #8B4513"></div>
            <span>Men√ß√µes em V√≠deos</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FFD700"></div>
            <span>Coment√°rios Positivos</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #4CAF50"></div>
            <span>Compartilhamentos</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #9C27B0"></div>
            <span>Reviews 5 Estrelas</span>
        </div>
    </div>
    
    <!-- Contador de Part√≠culas -->
    <div class="particle-counter" id="particleCounter">
        <div class="particle-title">Tr√°fego Chegando</div>
        <div class="particle-stats">
            <div class="particle-stat">
                <div class="particle-dot" style="background: #FFD700"></div>
                <span class="particle-count" id="viewsCount">0</span>
                <span style="font-size: 0.8em; opacity: 0.7">views/s</span>
            </div>
            <div class="particle-stat">
                <div class="particle-dot" style="background: #4CAF50"></div>
                <span class="particle-count" id="subsCount">0</span>
                <span style="font-size: 0.8em; opacity: 0.7">subs/s</span>
            </div>
            <div class="particle-stat">
                <div class="particle-dot" style="background: #9C27B0"></div>
                <span class="particle-count" id="leadsPerSec">0</span>
                <span style="font-size: 0.8em; opacity: 0.7">leads/s</span>
            </div>
            <div class="particle-stat">
                <div class="particle-dot" style="background: #00BCD4"></div>
                <span class="particle-count" id="convCount">0</span>
                <span style="font-size: 0.8em; opacity: 0.7">conv/s</span>
            </div>
        </div>
    </div>
    
    <!-- Overlay de Explos√£o -->
    <div class="explosion-overlay" id="explosionOverlay"></div>
    <div class="viral-text" id="viralText">VIRAL! üöÄ</div>
    
    <!-- CTA Final -->
    <button class="cta-button" id="ctaButton" onclick="window.open('https://liftlio.com', '_blank')">
        Ative Seu Tr√°fego Perp√©tuo Agora
    </button>
    
    <script>
        // Configura√ß√£o Three.js
        let scene, camera, renderer;
        let roots = [], particles = [], bamboo;
        let metrics = {
            videos: 0,
            comments: 0,
            viralRate: 0,
            leads: 0,
            reach: 0,
            roi: 0
        };
        
        // Fases do crescimento
        const phases = [
            {
                id: 1,
                title: "SEMEANDO PRESEN√áA",
                description: "Primeiras men√ß√µes plantadas estrategicamente nos v√≠deos certos",
                videos: 12,
                comments: 47,
                leads: 5,
                reach: 5200,
                roots: 10,
                depth: 3,
                viralRate: 5
            },
            {
                id: 2,
                title: "CONSTRUINDO AUTORIDADE",
                description: "Coment√°rios viram embaixadores espont√¢neos da sua marca",
                videos: 45,
                comments: 384,
                leads: 23,
                reach: 18500,
                roots: 25,
                depth: 6,
                viralRate: 15
            },
            {
                id: 3,
                title: "REDE DE INFLU√äNCIA",
                description: "Criadores come√ßam a citar voc√™ naturalmente em seus conte√∫dos",
                videos: 127,
                comments: 1847,
                leads: 89,
                reach: 65000,
                roots: 50,
                depth: 10,
                viralRate: 35
            },
            {
                id: 4,
                title: "MASSA CR√çTICA",
                description: "O algoritmo do YouTube detecta sua relev√¢ncia crescente",
                videos: 384,
                comments: 5623,
                leads: 276,
                reach: 285000,
                roots: 80,
                depth: 15,
                viralRate: 65
            },
            {
                id: 5,
                title: "EXPLOS√ÉO VIRAL",
                description: "Tr√°fego org√¢nico perp√©tuo ativado - Clientes chegam no autom√°tico!",
                videos: 1000,
                comments: 15000,
                leads: 892,
                reach: 1500000,
                roots: 100,
                depth: 20,
                height: 30,
                viralRate: 100,
                roi: 12.3
            }
        ];
        
        let currentPhase = 0;
        const masterTimeline = gsap.timeline();
        
        // Inicializa√ß√£o
        function init() {
            setupThreeJS();
            setupLighting();
            createGround();
            createSeed();
            setupCamera();
            startJourney();
        }
        
        function setupThreeJS() {
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x000011, 10, 150);
            
            camera = new THREE.PerspectiveCamera(
                60,
                window.innerWidth / window.innerHeight,
                0.1,
                1000
            );
            
            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById('canvas'),
                antialias: true,
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
        }
        
        function setupLighting() {
            const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(10, 30, 10);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // Luz vermelha do YouTube
            const redLight = new THREE.PointLight(0xFF0000, 0.5);
            redLight.position.set(-10, 10, 0);
            scene.add(redLight);
            
            // Luz dourada do sucesso
            const goldLight = new THREE.PointLight(0xFFD700, 0.5);
            goldLight.position.set(10, 10, 0);
            scene.add(goldLight);
        }
        
        function createGround() {
            // Solo semi-transparente
            const groundGeometry = new THREE.PlaneGeometry(200, 200);
            const groundMaterial = new THREE.MeshLambertMaterial({
                color: 0x0a0a0a,
                transparent: true,
                opacity: 0.3
            });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = -Math.PI / 2;
            ground.position.y = 0;
            scene.add(ground);
            
            // Linha divis√≥ria brilhante
            const lineGeometry = new THREE.BoxGeometry(200, 0.3, 1.5);
            const lineMaterial = new THREE.MeshBasicMaterial({
                color: 0xFF0000,
                emissive: 0xFF0000,
                emissiveIntensity: 0.8
            });
            const line = new THREE.Mesh(lineGeometry, lineMaterial);
            line.position.y = 0.15;
            scene.add(line);
            
            // Grade hexagonal (YouTube style)
            const gridHelper = new THREE.GridHelper(100, 30, 0xFF0000, 0x222222);
            gridHelper.position.y = 0.01;
            gridHelper.material.opacity = 0.3;
            gridHelper.material.transparent = true;
            scene.add(gridHelper);
        }
        
        function createSeed() {
            const seedGroup = new THREE.Group();
            
            // Logo/Semente do Liftlio
            const seedGeometry = new THREE.OctahedronGeometry(0.5, 0);
            const seedMaterial = new THREE.MeshPhongMaterial({
                color: 0xFF0000,
                emissive: 0xFFD700,
                emissiveIntensity: 0.2,
                shininess: 100
            });
            const seed = new THREE.Mesh(seedGeometry, seedMaterial);
            seedGroup.add(seed);
            
            bamboo = seedGroup;
            bamboo.position.set(0, -0.5, 0);
            scene.add(bamboo);
            
            // Rota√ß√£o cont√≠nua da semente
            gsap.to(seed.rotation, {
                y: Math.PI * 2,
                duration: 10,
                repeat: -1,
                ease: "none"
            });
        }
        
        function setupCamera() {
            camera.position.set(25, 20, 35);
            camera.lookAt(0, -5, 0);
        }
        
        function createRoot(depth, angle, type = 'mention') {
            const rootGroup = new THREE.Group();
            
            // Cores por tipo de engajamento
            const colors = {
                'mention': 0x8B4513,    // Marrom - Men√ß√µes
                'comment': 0xFFD700,     // Dourado - Coment√°rios
                'share': 0x4CAF50,       // Verde - Compartilhamentos
                'review': 0x9C27B0       // Roxo - Reviews
            };
            
            // Caminho org√¢nico da raiz
            const points = [];
            const segments = 20;
            
            for (let i = 0; i <= segments; i++) {
                const t = i / segments;
                const spread = 4;
                const x = Math.sin(angle) * t * depth * spread;
                const y = -t * depth * 1.5;
                const z = Math.cos(angle) * t * depth * spread;
                
                const wobble = Math.sin(t * Math.PI * 4) * 1.5;
                points.push(new THREE.Vector3(
                    x + wobble * Math.cos(angle + Math.PI/2),
                    y,
                    z + wobble * Math.sin(angle + Math.PI/2)
                ));
            }
            
            const curve = new THREE.CatmullRomCurve3(points);
            const tubeGeometry = new THREE.TubeGeometry(curve, 30, 0.2 + Math.random() * 0.2, 8, false);
            
            const rootMaterial = new THREE.MeshPhongMaterial({
                color: colors[type],
                emissive: colors[type],
                emissiveIntensity: 0.2,
                shininess: 50
            });
            
            const root = new THREE.Mesh(tubeGeometry, rootMaterial);
            rootGroup.add(root);
            
            roots.push(rootGroup);
            scene.add(rootGroup);
            
            // Anima√ß√£o de crescimento
            rootGroup.scale.set(0, 0, 0);
            gsap.to(rootGroup.scale, {
                x: 1,
                y: 1,
                z: 1,
                duration: 2,
                ease: "back.out(1.5)"
            });
            
            // Pulso de energia
            gsap.to(rootMaterial, {
                emissiveIntensity: 0.5,
                duration: 0.5,
                yoyo: true,
                repeat: 1
            });
            
            return rootGroup;
        }
        
        function createBamboo(height) {
            const bambooStem = new THREE.Group();
            
            // Criar segmentos
            for (let i = 0; i < height; i++) {
                const segmentGeometry = new THREE.CylinderGeometry(
                    1 - i * 0.02,
                    1.2 - i * 0.02,
                    1.8,
                    12
                );
                
                const segmentMaterial = new THREE.MeshPhongMaterial({
                    color: 0x4CAF50,
                    emissive: 0xFFD700,
                    emissiveIntensity: 0.1,
                    shininess: 100
                });
                
                const segment = new THREE.Mesh(segmentGeometry, segmentMaterial);
                segment.position.y = i * 1.8;
                segment.castShadow = true;
                
                bambooStem.add(segment);
                
                // Animar crescimento
                gsap.from(segment.scale, {
                    y: 0,
                    duration: 0.3,
                    delay: i * 0.08,
                    ease: "back.out(2)"
                });
                
                // Adicionar folhas
                if (i > height * 0.3 && i % 2 === 0) {
                    createLeaves(bambooStem, i * 1.8);
                }
            }
            
            bamboo.add(bambooStem);
            return bambooStem;
        }
        
        function createLeaves(parent, height) {
            const leafGroup = new THREE.Group();
            const leafCount = 8;
            
            for (let i = 0; i < leafCount; i++) {
                const angle = (i / leafCount) * Math.PI * 2;
                
                // Geometria de folha
                const leafGeometry = new THREE.ConeGeometry(0.3, 2, 4);
                const leafMaterial = new THREE.MeshPhongMaterial({
                    color: 0x4CAF50,
                    emissive: 0x2E7D32,
                    emissiveIntensity: 0.1,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.9
                });
                
                const leaf = new THREE.Mesh(leafGeometry, leafMaterial);
                leaf.position.set(
                    Math.cos(angle) * 2,
                    height,
                    Math.sin(angle) * 2
                );
                leaf.rotation.z = angle + Math.PI/3;
                leaf.rotation.x = Math.PI/6;
                
                leafGroup.add(leaf);
                
                // Animar folha
                gsap.from(leaf.scale, {
                    x: 0,
                    y: 0,
                    z: 0,
                    duration: 0.8,
                    delay: i * 0.05,
                    ease: "elastic.out(1, 0.5)"
                });
            }
            
            parent.add(leafGroup);
        }
        
        function createParticles(count, color, type = 'views') {
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(count * 3);
            const colors = new Float32Array(count * 3);
            
            const particleColor = new THREE.Color(color);
            
            for (let i = 0; i < count * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 60;
                positions[i + 1] = Math.random() * 40;
                positions[i + 2] = (Math.random() - 0.5) * 60;
                
                colors[i] = particleColor.r;
                colors[i + 1] = particleColor.g;
                colors[i + 2] = particleColor.b;
            }
            
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const material = new THREE.PointsMaterial({
                size: 0.5,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });
            
            const particleSystem = new THREE.Points(geometry, material);
            particleSystem.userData = { type: type };
            particles.push(particleSystem);
            scene.add(particleSystem);
            
            return particleSystem;
        }
        
        function updateMetrics(phase) {
            // Animar m√©tricas
            gsap.to(metrics, {
                videos: phase.videos,
                comments: phase.comments,
                viralRate: phase.viralRate,
                leads: phase.leads,
                reach: phase.reach,
                roi: phase.roi || metrics.roi,
                duration: 2,
                ease: "power2.out",
                onUpdate: () => {
                    document.getElementById('videoCount').textContent = Math.floor(metrics.videos);
                    document.getElementById('commentCount').textContent = Math.floor(metrics.comments).toLocaleString();
                    document.getElementById('viralRate').textContent = Math.floor(metrics.viralRate) + '%';
                    document.getElementById('qualifiedLeads').textContent = Math.floor(metrics.leads);
                    document.getElementById('totalReach').textContent = formatNumber(Math.floor(metrics.reach));
                    
                    if (metrics.roi > 0) {
                        document.getElementById('roiValue').textContent = metrics.roi.toFixed(1) + 'x';
                    }
                }
            });
            
            // Atualizar contadores de part√≠culas
            document.getElementById('viewsCount').textContent = Math.floor(phase.reach / 1000);
            document.getElementById('subsCount').textContent = Math.floor(phase.leads / 10);
            document.getElementById('leadsPerSec').textContent = Math.floor(phase.leads / 100);
            document.getElementById('convCount').textContent = Math.floor(phase.leads / 50);
        }
        
        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }
        
        function processPhase(phase) {
            // Mostrar indicador de fase
            document.getElementById('phaseNumber').textContent = `FASE ${phase.id}`;
            document.getElementById('phaseTitle').textContent = phase.title;
            document.getElementById('phaseDescription').textContent = phase.description;
            
            gsap.to('#phaseIndicator', {
                opacity: 1,
                scale: 1,
                duration: 1,
                ease: "back.out(1.5)"
            });
            
            // Atualizar timeline
            const progress = (phase.id / 5) * 100;
            document.getElementById('timelineFill').style.width = `${progress}%`;
            
            // Marcar fase ativa
            document.querySelectorAll('.phase-marker').forEach(m => m.classList.remove('active'));
            document.querySelector(`[data-phase="${phase.id}"]`).classList.add('active');
            
            // Atualizar m√©tricas
            updateMetrics(phase);
            
            // A√ß√µes espec√≠ficas por fase
            if (phase.id <= 4) {
                // Criar ra√≠zes com diferentes tipos
                const types = ['mention', 'comment', 'share', 'review'];
                const rootCount = phase.roots - roots.length;
                
                for (let i = 0; i < rootCount; i++) {
                    setTimeout(() => {
                        const angle = Math.random() * Math.PI * 2;
                        const type = types[Math.floor(Math.random() * types.length)];
                        createRoot(phase.depth, angle, type);
                    }, i * 100);
                }
                
                // Adicionar part√≠culas
                createParticles(50 * phase.id, 0xFFD700, 'views');
                if (phase.id > 2) {
                    createParticles(30 * phase.id, 0x4CAF50, 'subs');
                }
                
                // Mover c√¢mera
                gsap.to(camera.position, {
                    x: 25 - phase.id * 2,
                    y: 20 - phase.id,
                    z: 35 + phase.id * 3,
                    duration: 3,
                    ease: "power2.inOut"
                });
                
            } else if (phase.id === 5) {
                // EXPLOS√ÉO VIRAL!
                setTimeout(() => explodeViral(), 1000);
            }
            
            // Esconder indicador ap√≥s 3s
            setTimeout(() => {
                gsap.to('#phaseIndicator', {
                    opacity: 0,
                    scale: 0.8,
                    duration: 0.5
                });
            }, 3000);
        }
        
        function explodeViral() {
            // Efeito de explos√£o
            gsap.to('#explosionOverlay', {
                opacity: 0.7,
                duration: 0.5,
                yoyo: true,
                repeat: 1
            });
            
            gsap.to('#viralText', {
                opacity: 1,
                scale: 1,
                duration: 1,
                ease: "back.out(2)"
            });
            
            // Crescer bambu
            createBamboo(30);
            
            // Criar m√∫ltiplos brotos (viral spread)
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const angle = (i / 6) * Math.PI * 2;
                    const sprout = createBamboo(15 + Math.random() * 10);
                    sprout.position.set(
                        Math.cos(angle) * 8,
                        0,
                        Math.sin(angle) * 8
                    );
                    sprout.scale.set(0.7, 0.7, 0.7);
                }, i * 300);
            }
            
            // Explos√£o de part√≠culas
            for (let i = 0; i < 5; i++) {
                createParticles(200, 0xFFD700);
                createParticles(150, 0x4CAF50);
                createParticles(100, 0xFF0000);
            }
            
            // C√¢mera √©pica
            gsap.to(camera.position, {
                x: 40,
                y: 35,
                z: 60,
                duration: 5,
                ease: "power2.inOut"
            });
            
            // Mostrar ROI
            gsap.to('#roiDisplay', {
                opacity: 1,
                duration: 2,
                delay: 2
            });
            
            // Mostrar CTA
            setTimeout(() => {
                gsap.to('#viralText', {
                    opacity: 0,
                    scale: 0,
                    duration: 1
                });
                
                gsap.to('#ctaButton', {
                    opacity: 1,
                    y: -20,
                    duration: 1,
                    ease: "back.out(2)"
                });
            }, 4000);
        }
        
        function startJourney() {
            // Revelar interface
            masterTimeline
                .to('#mainHeader', {
                    opacity: 1,
                    y: -20,
                    duration: 2,
                    ease: "power2.out"
                })
                .to(['#metricsPanel', '#engagementLegend', '#progressTimeline', '#particleCounter'], {
                    opacity: 1,
                    duration: 1,
                    stagger: 0.2
                }, "-=1")
                .to('#mainHeader', {
                    opacity: 0,
                    y: -40,
                    duration: 1
                }, "+=3");
            
            // Processar fases automaticamente
            phases.forEach((phase, index) => {
                masterTimeline
                    .call(() => processPhase(phase))
                    .to({}, { duration: 5 }); // Tempo por fase
            });
            
            masterTimeline.play();
            animate();
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            // Animar part√≠culas
            particles.forEach(system => {
                system.rotation.y += 0.001;
                const positions = system.geometry.attributes.position.array;
                
                for (let i = 1; i < positions.length; i += 3) {
                    positions[i] -= 0.1;
                    if (positions[i] < -10) {
                        positions[i] = 40;
                    }
                }
                system.geometry.attributes.position.needsUpdate = true;
            });
            
            // Animar ra√≠zes
            roots.forEach((root, i) => {
                root.rotation.y += 0.001 * (1 + i * 0.05);
            });
            
            // Animar bambu
            if (bamboo) {
                bamboo.rotation.y += 0.001;
            }
            
            renderer.render(scene, camera);
        }
        
        // Responsividade
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Iniciar
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>